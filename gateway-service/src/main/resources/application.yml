server:
  port: 19091

spring:
  main:
    web-application-type: reactive
  application:
    name: gateway-service
  cloud:
    # ğŸ‘‡ gateway ì„¤ì •ì€ ëª¨ë‘ ì´ ì•„ë˜ì— ì¼ê´€ë˜ê²Œ ìœ„ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.
    gateway:
      default-filters:
        - AuthenticationFilter
      server:
        webflux:
          # ğŸ‘‡ ë¼ìš°íŒ… ê´€ë ¨ ì„¤ì •ì€ ëª¨ë‘ ì—¬ê¸°ë¡œ ì´ë™
          routes:
            - id: auth-service
              uri: lb://auth-service
              predicates:
                - Path=/oauth2/**
            - id: chat-service
              uri: lb:ws://chat-service
              predicates:
                - Path=/chat/**
          # ğŸ‘‡ discovery locatorì˜ ìƒˆ ìœ„ì¹˜
          discovery:
            locator:
              enabled: true
    # ğŸ‘‡ loadbalancerëŠ” cloud ë ˆë²¨ì— ìœ„ì¹˜
    loadbalancer:
      cache:
        enabled: false

# Eureka í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
eureka:
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
      defaultZone: ${EUREKA_URL}

# JWT ê´€ë ¨ ì»¤ìŠ¤í…€ ì„¤ì •
jwt:
  secretKey: ${JWT_KEY}

logging:
  level:
    org.springframework.cloud.gateway: DEBUG
    org.springframework.web.reactive: DEBUG
    reactor.netty: DEBUG